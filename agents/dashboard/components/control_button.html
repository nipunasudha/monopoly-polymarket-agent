{# Reusable control button component #}
{# Parameters: action, label, icon_path, color_class, disabled #}
<button
    hx-post="/api/agent/{{ action }}"
    hx-trigger="click"
    hx-swap="none"
    hx-on::after-request="htmx.ajax('GET', '/partials/agent-controls', {target: '#agent-controls', swap: 'innerHTML'})"
    {% if disabled %}disabled{% endif %}
    class="inline-flex items-center px-4 py-2 border {% if color_class == 'primary' %}border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500{% elif color_class == 'success' %}border-transparent text-white bg-green-600 hover:bg-green-700 focus:ring-green-500{% elif color_class == 'danger' %}border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500{% elif color_class == 'warning' %}border-transparent text-white bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500{% else %}border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500{% endif %} text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 {% if disabled %}opacity-50 cursor-not-allowed{% endif %}">
    <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ icon_path }}"></path>
    </svg>
    {{ label }}
</button>
